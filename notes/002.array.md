# 数组

数组定义：数组（Array）是一种**线性表**数据结构。它用一组**连续的内存空间**，来存储一组具有**相同类型**的数据。

## 线性表

线性表就是数据排成像一条线一样的结构。每个线性表上的数据最多只有前和后两个方向。其实除了数组，链表、队列、栈等也是线性表结构。

而与它相对立的概念是非线性表，比如二叉树、堆、图等。之所以叫非线性，是因为，在非线性表中，数据之间并不是简单的前后关系。

## 连续内存空间和相同数据类型

这两个限制带来的好处是“随机访问”，但也让删除、插入等操作非常低效，因为需要对数据进行移动。

随机访问数组中某个元素的寻址公式：

> a[i]_address = base_address + i * data_type_size

## 为什么大多数编程语言中数组从 0 开始编号

下标最确切的定义应该是偏移(offset)，如果用 a 来表示数组的首地址，a[0] 就是偏移为 0 的位置，也就是首地址，a[k] 就表示偏移 k 个type_size 的位置，所以计算 a[k] 的内存地址只需要用这个公式：

> a[k]_address = base_address + k * type_size

如果数组从 1 开始计数，那我们计算数组元素 a[k] 的内存地址就会变为：

> a[k]_address = base_address + (k-1)*type_size

从 1 开始编号，每次随机访问数组元素都多了一次减法运算，对于 CPU 来说，就是多了一次减法指令。数组作为非常基础的结构，效率的优化就要尽可能做到极致，所以数组从 0 开始编号。另外就是历史原因了，C 语言是从 0 开始编号的，之后的语言有很多都沿用了这一习惯。

二维数组的寻址公式：

> address = base_address + ( i * n + j) * type_size

